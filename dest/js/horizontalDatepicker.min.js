function loadData(e,t,a){console.log("Current selected day is:",e+"-"+t+"-"+a)}$(function(){horizontalDatepicker.init(loadData)});var horizontalDatepicker={offset:0,dayNumber:0,step:5,dayElementWidth:64,loadData:new Function,init:function(e){horizontalDatepicker.loadData=e,horizontalDatepicker.initialControl(),$("#year-wrapper").hover(function(){horizontalDatepicker.hoverYear()}),$(".year-container").mouseleave(function(){$("#year-select-list").css("display","none")}),$("#month-wrapper").hover(function(){horizontalDatepicker.hoverMonth()}),$(".month-container").mouseleave(function(){$("#month-select-list").css("display","none")}),$("#year-select-list").delegate(".year-item","click",function(){var e=$(this).text().replace(/^\s+|\s+$/g,"");horizontalDatepicker.changeYear(e)}),$("#month-select-list").delegate(".month-item","click",function(){var e=$(this).children("input").val();horizontalDatepicker.changeMonth(e)}),$("#pre-year-page").on("click",function(){horizontalDatepicker.changeYearPage(-1)}),$("#next-year-page").on("click",function(){horizontalDatepicker.changeYearPage(1)}),$("#date-slider").delegate(".day-number","click",function(){horizontalDatepicker.chooseDay($(this))}),$(".date-container").delegate("#turn-date-right","click",function(){horizontalDatepicker.turnToRight()}),$(".date-container").delegate("#turn-date-left","click",function(){horizontalDatepicker.turnToLeft()})},dayNumOfMonth:function(e,t){var a=new Date(e,t,0);return a.getDate()},appendDateHtml:function(e,t){var a=horizontalDatepicker.dayNumOfMonth(e,t),r=a*parseInt(horizontalDatepicker.dayElementWidth);$("#date-slider").width(r),$("#date-slider").html("");for(var i=1;a>=i;i++)$("#date-slider").append("<span id=span-"+i+" class=day-number>"+i+"日</span>");horizontalDatepicker.offset=0,horizontalDatepicker.dayNumber=1,$("#date-slider").css("left","0")},initialControl:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1,r=e.getDate();$("#year").val(t),$("#month").val(a),horizontalDatepicker.appendDateHtml(t,a),$("#span-"+r).addClass("select");var i=$("#span-1").offset().left;if(horizontalDatepicker.dayNumber=r,horizontalDatepicker.dayNumber>21)horizontalDatepicker.dayNumber=21,horizontalDatepicker.offset=-(horizontalDatepicker.dayNumber*horizontalDatepicker.dayElementWidth);else{var n=$("#span-"+r).offset().left;horizontalDatepicker.offset=i-n}$("#date-slider").animate({left:horizontalDatepicker.offset+"px"}),a.toString().length<2&&(a="0"+a),r.toString().length<2&&(r="0"+r),void 0!=horizontalDatepicker.loadData&&horizontalDatepicker.loadData(t,a,r)},hoverYear:function(){$("#month-select-list").css("display","none"),$("#year-select-list").css("display","block")},hoverMonth:function(){$("#year-select-list").css("display","none"),$("#month-select-list").css("display","block")},changeYear:function(e){horizontalDatepicker.hideYearMonthSelectList();var t=$("#month").val();$("#year").val(e),horizontalDatepicker.appendDateHtml(e,t)},changeMonth:function(e){horizontalDatepicker.hideYearMonthSelectList();var t=$("#year").val();$("#month").val(e),horizontalDatepicker.appendDateHtml(t,e)},changeYearPage:function(pageStep){$.each($("td.year-item"),function(index,element){$(element).text(eval($(element).text())+pageStep)})},chooseDay:function(e){horizontalDatepicker.hideYearMonthSelectList(),horizontalDatepicker.toggleSelectedDay(e),horizontalDatepicker.getCurrentDateData(e),horizontalDatepicker.selectedDayEleId="#"+e.attr("id")},hideYearMonthSelectList:function(){$("#year-select-list").css("display","none"),$("#month-select-list").css("display","none")},toggleSelectedDay:function(e){e.addClass("select"),e.siblings().removeClass("select")},getCurrentDateData:function(e){var t=e.text();t=t.split("日")[0];var a=$("#year").val(),r=$("#month").val();r.toString().length<2&&(r="0"+r),t.toString().length<2&&(t="0"+t),void 0!=horizontalDatepicker.loadData&&horizontalDatepicker.loadData(a,r,t)},turnToRight:function(){if(horizontalDatepicker.dayNumber=horizontalDatepicker.dayNumber+horizontalDatepicker.step,horizontalDatepicker.dayNumber>=26){var e=parseInt($("#month").val())+1;if(13==e){e=1;var t=parseInt($("#year").val())+1;$("#year").val(t)}return horizontalDatepicker.changeMonth(e),!1}horizontalDatepicker.dayNumber>21&&(horizontalDatepicker.dayNumber=21),horizontalDatepicker.offset=-(horizontalDatepicker.dayNumber*horizontalDatepicker.dayElementWidth),$("#date-slider").animate({left:horizontalDatepicker.offset+"px"})},turnToLeft:function(){if(0!=horizontalDatepicker.dayNumber&&(horizontalDatepicker.dayNumber=horizontalDatepicker.dayNumber-horizontalDatepicker.step),horizontalDatepicker.dayNumber<=1){var e=parseInt($("#month").val())-1;if(1==e){e=12;var t=parseInt($("#year").val())-1;$("#year").val(t)}return horizontalDatepicker.changeMonth(e),!1}horizontalDatepicker.offset=-(horizontalDatepicker.dayNumber*horizontalDatepicker.dayElementWidth),$("#date-slider").animate({left:horizontalDatepicker.offset+"px"})}};